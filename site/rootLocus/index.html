
<!DOCTYPE html>
<html>
<head>
<title>在线绘制根轨迹</title>
<!-- Copyright (c) 2012-2018 The MathJax Consortium -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.bootcss.com/jquery-mobile/1.3.2/jquery.mobile.min.css">
<script src="https://cdn.bootcss.com/jquery/1.8.3/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery-mobile/1.3.2/jquery.mobile.min.js"></script>

</head>
<body>
<div data-role="page" id="pageone">


<label cols="60" rows="10" for="num">分子：</label>
<input cols="60" rows="10" type="text" name="num" id="num">       
<label cols="60" rows="10" for="den">分母：</label>
<input cols="60" rows="10" type="text" name="den" id="den">
<button cols="60" rows="10" type="button" class="btn btn-default"  onclick = "plot()">绘制根轨迹</button>
<img id = "res" width="100%"></img>
<img id="images" width = "100%"></img>
</div>

</body>




<script>
  /*$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?", function(data){
  $.each(data.items, function(i,item){
    $("<img/>").attr("src", item.media.m).appendTo("#images");
    if ( i == 3 ) return false;
  });
});*/




  document.getElementById("num").value= "s";
  document.getElementById("den").value = "5s3+4";
  var str1 = document.getElementById("num").value;
  var str2 = document.getElementById("den").value;
  var qstr = "https://api.wolframalpha.com/v2/query?input=root+locus+for+transfer+function+(" +
   encodeURIComponent(str1) + encodeURIComponent(")/(") + encodeURIComponent(str2) +
    ")&format=image&output=JSON&appid=GJGKTL-VVEAG5K6HT&callback=?";

  /*$.ajax({ 
  type: 'GET', 
  url: qstr , 
  //是否使用缓存 
  cache:false, 
  //数据类型，这里我用的是json 
  dataType: "json", 
  crossDomain: true, 
  //必要的时候需要用JSON.stringify() 将JSON对象转换成字符串 
  //data: JSON.strigify({key:value}), 
  //data : ""
  //添加额外的请求头 
  headers : {'Access-Control-Allow-Origin':'*'}, 
  //请求成功的回调函数 success: 
  success : function(data){  
    window.alert(data.queryresult.pods[0].subpods[0].img.src);
    window.alert(data.queryresult.pods[1].subpods[0].img.src);
  }
  }); 


//qstr="http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?"
 /*$.getJSON(qstr,function(data) {
  window.alert(data.queryresult[0].pods[0].subpods[0].img[0].src[0]);
  $.each(data.queryresult, function(i,queryresult){
    $.each(queryresult.pods,function(j,pods){
      window.alert(pods.subpods[0].img.src);
      $("<img/>").attr("src", item.media.m).appendTo("#images");
      //if ( i == 3 ) return false;
    });
  });
 });*/



function plot(){
  var str1 = document.getElementById("num").value;
  var str2 = document.getElementById("den").value;
  //var qstr = "(" + str1 + ")/(" + str2 + ")";
  //var obj = document.getElementById("res");
  //res.src = "https://api.wolframalpha.com/v1/simple?appid=GJGKTL-VVEAG5K6HT&i=root+locus+for+transfer+function+" + encodeURIComponent(qstr);

  var qstr = "https://api.wolframalpha.com/v2/query?input=root+locus+for+transfer+function+(" +
   encodeURIComponent(str1) + encodeURIComponent(")/(") + encodeURIComponent(str2) +
    ")&format=image&output=JSON&appid=GJGKTL-VVEAG5K6HT&callback=?";

  $.ajax({ 
  type: 'GET', 
  url: qstr , 
  //是否使用缓存 
  cache:false, 
  //数据类型，这里我用的是json 
  dataType: "json", 
  crossDomain: true, 
  //必要的时候需要用JSON.stringify() 将JSON对象转换成字符串 
  //data: JSON.strigify({key:value}), 
  //data : ""
  //添加额外的请求头 
  headers : {'Access-Control-Allow-Origin':'*'}, 
  //请求成功的回调函数 success: 
  success : function(data){  
    document.getElementById("res").src = data.queryresult.pods[0].subpods[0].img.src;
    document.getElementById("images").src = data.queryresult.pods[1].subpods[0].img.src;
  }
});
}

/*jQuery.getJSON("https://api.wolframalpha.com/v2/query?input=root+locus+(s%5E2%2B3)%2F(s%5E3%2B5)&format=image&output=JSON&appid=GJGKTL-VVEAG5K6HT",{ 
   // q: "Arsenal" 
},function(tweets) { 
    // Handle response here 
    window.alert("Twitter returned: ",tweets); 
});*/

</script>




</html>